<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Loto:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="Yans67">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Yans67">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yans67">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Yans67 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Yans67</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">胡搞瞎搞</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/24/URL编码/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/24/URL编码/" itemprop="url">
                  URL编码
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-24T14:36:46+08:00">
                2017-12-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>先了解字符的编码：</p>
<h3 id="ASCII-编码"><a href="#ASCII-编码" class="headerlink" title="ASCII 编码"></a>ASCII 编码</h3><p>在计算机内部，所有信息最终都是二进制形式存在，一个二进制位（bit）有0和1两种状态，一个字节（byte）有八个二进制位，也就可以组合成256种状态。如果每种状态对应一个符号，则可以表示256个符号（00000000 ~ 11111111）。由美国制定的字符编码 ASCII 一共规定了128个编码， 每个字节的第一位统一为0，后面7位表示字符。如大写字母 A 是65，二进制表示为01000001。</p>
<p>如果只是英文字符，用128个符号编码就够了。但是汉字能够多达 10w 个，很明显用 ASCII 这种一个字节的编码是不够用的，因此必须使用多个字节来表示一个符号，如简体中文常见的编码方式就是 GB2312，使用两个字节来表示一个汉字。理论上最多有256*256 = 65536个汉字。</p>
<h3 id="Unicode-编码"><a href="#Unicode-编码" class="headerlink" title="Unicode 编码"></a>Unicode 编码</h3><p>一个符号集，记录了各个符号的二进制代码，不过没有明确规定这个二进制代码应该如何存储，比如，汉字<code>严</code> 的 Unicode 是十六进制<code>4E25</code>，转化成二进制为<code>100111000100101</code>，这个符号至少需要两个字节，而其他字符可能有三四个字节来表示，因此计算机是没法区分到底是三个字节表示一个符号，还是两个字节表示一个符号。</p>
<h3 id="UTF-8-编码"><a href="#UTF-8-编码" class="headerlink" title="UTF-8 编码"></a>UTF-8 编码</h3><p>互联网使用最广的一种实现了 Unicode 编码的字符集。一种变长的编码方式，使用1~4个字节表示一个符号，根据不同的符号而变化字节长度。其规则如下图所示：</p>
<table>
<thead>
<tr>
<th>Unicode符号范围</th>
<th>UTF-8编码方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>(十六进制)</td>
<td>(二进制）</td>
</tr>
<tr>
<td>0000 0000-0000 007F</td>
<td>0xxxxxxx</td>
</tr>
<tr>
<td>0000 0080-0000 07FF</td>
<td>110xxxxx 10xxxxxx</td>
</tr>
<tr>
<td>0000 0800-0000 FFFF</td>
<td>1110xxxx 10xxxxxx 10xxxxxx</td>
</tr>
<tr>
<td>0001 0000-0010 FFFF</td>
<td>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td>
</tr>
</tbody>
</table>
<p>由上图可以发现，UTF-8的编码规则主要有两条：</p>
<pre><code>1. 对于单字节符号，第一位设置为0，后面7位为这个符号的 Unicode 码。因此对于英文字符。UTF-8编码和 ASCII 码是相同的。
2. 对于 n 个字节的符号（n&gt;1），第一个字节的前 n 为统一设置为1，第 n+1位设置为0，后面字节的前两位一律设置为10，剩下的就是这个符号的 Unicode码，因此一个字符的 Unicode 码跟其 UTF-8 码是不一样的。
</code></pre><p>了解字符编码后，我们来看下 URL 编码的作用。<br>客户端获取服务器资源，需要通过 URL 定位到相应的资源，而 URL 只能使用英文字母、阿拉伯数字和某些标点符号，因此当 URL 包含中文或者其他符号的时候，就需要对对 URL 进行编码，可是由于各个浏览器厂商的所使用的编码的不一致，因此就造成 URL 编码变得有点复杂混乱。</p>
<p>为了避免上述情况，我们是用 JavaScript 对 URL 编码，然后再向服务器提交，这样浏览器就不会帮我们编码了。因为 JavaScript 的输出总是一致，所以就保证服务器所得到的数据是格式统一的。</p>
<p>经过 JavaScript 编码都变成了 Unicode 字符。</p>
<p>JavaScript 用于编码的函数主要有一下：</p>
<h3 id="encodeURI"><a href="#encodeURI" class="headerlink" title="encodeURI()"></a>encodeURI()</h3><p>对<code>整个 URL</code>进行编码，除了常见的符号，对 <code>; / ? : @ &amp; = + $ , # &#39;</code> 也不进行编码。编码规则为：编码后输出符号为 utf-8形式，并且每个字节前加上%。其对应的解码函数是decodeURI()。</p>
<h3 id="encodeURIComponent"><a href="#encodeURIComponent" class="headerlink" title="encodeURIComponent()"></a>encodeURIComponent()</h3><p>对 URL 的组成部分进行个别编码，并且，会对  <code>; / ? : @ &amp; = + $ , # &#39;</code>  也进行编码，具体的编码规则跟<code>encodeURI()</code> 一样。其对应的解码函数是decodeURIComponent()。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/20/Mybatis笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/11/20/Mybatis笔记/" itemprop="url">
                  Mybatis 笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-20T09:20:34+08:00">
                2017-11-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>该文章主要用于记录学习 Mybatis 中的一些笔记，起整理思路作用。</p>
<p>Mybatis 的运行主要分两个部分。</p>
<ol>
<li>读取配置文件缓存到 Configuration 对象，用于构建 SqlSessionFactory。</li>
<li>SqlSession 的执行过程，这个过程比较复杂。</li>
</ol>
<p>问题：mapper 作为一个接口，如何运行 sql 语句？</p>
<p>答案：通过动态代理（JDK 动态代理、CGLIB 代理）实现</p>
<h4 id="JDK-动态代理"><a href="#JDK-动态代理" class="headerlink" title="JDK 动态代理"></a>JDK 动态代理</h4><h4 id="CGLIB-动态代理"><a href="#CGLIB-动态代理" class="headerlink" title="CGLIB 动态代理"></a>CGLIB 动态代理</h4><h5 id="两种动态代理的区别"><a href="#两种动态代理的区别" class="headerlink" title="两种动态代理的区别"></a>两种动态代理的区别</h5><ul>
<li>JDK 动态代理必须先实现一个接口，而 CGLIB 不需要。</li>
</ul>
<h4 id="SqlSessionFactory-构建过程"><a href="#SqlSessionFactory-构建过程" class="headerlink" title="SqlSessionFactory 构建过程"></a>SqlSessionFactory 构建过程</h4><p>SqlSessionFactory是 MyBatis 的核心类之一，起作用就是创建 MyBatis 的核心接口 SqlSession。</p>
<p>构建过程主要分两步：</p>
<ol>
<li>通过 XMLConfigBuilder 解析配置 XML 文件，并且存入 Configuration 类中。</li>
<li>使用 Configuration 对象，用构建者模式（Builder 模式）构造SqlSessionFactory。</li>
</ol>
<blockquote>
<p>Builder 模式：主要是用来创建复杂对象，简单对象可以通过构造方法传参数，但是当对象过于复杂时，我们希望能够一步步更加有条理的构建它，降低其复杂性，就可以使用构建者模式。</p>
</blockquote>
<h4 id="SqlSession-的执行过程"><a href="#SqlSession-的执行过程" class="headerlink" title="SqlSession 的执行过程"></a>SqlSession 的执行过程</h4><p>SqlSession 是一个接口，提供了增删改查等方法，在旧版本 MyBatis 或者 iBatis 中常常使用 SqlSession，而在新版本的 MyBatis 中则推荐使用 Mapper，不过其底层实现还是通过 SqlSession。</p>
<ol>
<li>获取 xml 的命名空间，即 mapper 接口的全路径</li>
<li>通过动态代理生成对象</li>
<li>采用命令模式，获取 xml 中的参数，执行 SqlSession 的方法。</li>
</ol>
<blockquote>
<p>源码得去看下</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/19/Spring笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/11/19/Spring笔记/" itemprop="url">
                  Spring 笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-19T13:47:09+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>该文章主要用于记录学习 Spring 中的一些笔记，起整理思路作用。</p>
<h3 id="依赖注入的思想"><a href="#依赖注入的思想" class="headerlink" title="依赖注入的思想"></a>依赖注入的思想</h3><p>学习 Spring 的第一步，就是先理解 IoC 容器的概念，IoC 翻译为<code>控制反转</code>。因此 IoC 容器就是提供一个进行控制反转的容器。</p>
<p>在理解 IoC 容器的过程中，会经常出现<code>注入</code>、<code>依赖</code>等名称，先理解好这些名词的含义对后续理解有很重要的意义。</p>
<p>我们先看下面的例子：</p>
<p>一般情况下，假设 A 对象依赖于 B 对象，我们称 A 对象为<code>依赖对象</code>，B 对象则为<code>被依赖对象</code>。代码表示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">A a = <span class="keyword">new</span> A();</div><div class="line">B b = <span class="keyword">new</span> B();</div><div class="line">a.setB(b);</div><div class="line">a.invoke();</div></pre></td></tr></table></figure>
<p>上述代码就是一个简单的<code>依赖注入（即：DI）</code>过程。</p>
<blockquote>
<p>a 对象依赖 b 对象，并且通过 setB() 方法将 b 对象注入到 a 对象中。</p>
</blockquote>
<p>为了更好理解 IoC 容器的意义，我们这里将 IoC 容器的概念与<code>依赖注入</code>当做等同概念。</p>
<p>上述代码中，有个明显的缺点就是，B 作为被依赖对象，必须手动实例化一次后再手动调用 setB 方法注入到 A 对象，而在实际项目中，A 是会依赖很多对象的，如果按照上述代码的思路，那有多少对象我们就得实例化多少对象，然后再通过某些方法注入到 A 对象中。</p>
<p>IoC 容器的作用，总体来说就是两步：</p>
<ol>
<li>将上述 B 被依赖对象的实例化过程抽离出来</li>
<li>将上述 setB() 方法，即将 b 对象注入 a 对象的过程抽离出来。</li>
</ol>
<p>也就是说，依赖对象间的关系以及注入，全都交给一个第三方来处理，即变成如下过程：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 程序启动后，IoC 容器先实例化好 B 对象，并且已经将 B 对象注入到 A 对象中</span></div><div class="line">	A a = <span class="keyword">new</span> A();</div><div class="line">	a.invoke();</div></pre></td></tr></table></figure>
<p>这里先不需要研究其具体实现，其具体实现后面会讲到。</p>
<p>###依赖注入的三种实现方式：</p>
<ol>
<li>构造方法注入</li>
<li>setter 方法注入</li>
<li>接口注入</li>
</ol>
<p>依赖注入的附加值：有利于 TDD（TestDriven Development，测试驱动开发）的开展，TTD 本身提倡基于接口的方式编写单元测试，因此写出来的代码耦合度低，拓展性高，在根据可运行的单元测试进行详细业务开发，这样效率会更高。</p>
<h3 id="IoC-容器的职责"><a href="#IoC-容器的职责" class="headerlink" title="IoC 容器的职责"></a>IoC 容器的职责</h3><ol>
<li>对象的构建管理：被依赖对象的实例化，构建依赖对象和被依赖对象之间的依赖关系。</li>
<li>对象间的依赖绑定：将被依赖对象注入（绑定）到依赖对象中</li>
</ol>
<p>作为一个第三方容器，要想实现上面两个职责，首先就得有对象的信息，以及依赖对象间的对应关系。主要有一下几种方式来记录对象间的信息：</p>
<ol>
<li>直接编码方式</li>
<li>配置文件方式</li>
<li>元数据方式（java5后才有，配合注解技术）</li>
</ol>
<h3 id="Spring-IoC-容器之-BeanFactory"><a href="#Spring-IoC-容器之-BeanFactory" class="headerlink" title="Spring IoC 容器之 BeanFactory"></a>Spring IoC 容器之 BeanFactory</h3><p>Spring IoC 容器非常强大，除了提供上述的 IoC 容器的作用外，还提供了其他技术支持，如：对象生命周期管理、AOP 支持、Spring 事务处理、线程管理等。</p>
<p>这里我们主要讲 IoC 容器的知识，而在 Spring 中，有 BeanFactory 和 ApplicationContext 这两种容器类型。</p>
<p>BeanFactory：基础类型 IoC 容器，默认采用延迟初始化策略（lazy-load），只有当某个对象需要访问容器中受管对象的时候，才会对受管对象进行初始化并依赖注入操作。因此容器启动速度较快。</p>
<p>ApplicationContext：在 BeanFactory 基础上构建，提供了其他高级特性，ApplicationContext 管理的对象在容器启动后就全部初始化并绑定完成。因此启动时间会比较长。</p>
<h4 id="BeanFactory-如何工作"><a href="#BeanFactory-如何工作" class="headerlink" title="BeanFactory 如何工作"></a>BeanFactory 如何工作</h4><p>现在我们将 IoC 模式开发交由 BeanFactory 实现，现在我们来看下 BeanFactory 具体如何实现对象的注册与依赖绑定工作。</p>
<ol>
<li><p>直接编码方式：（《Spring 揭秘 4.2节 》）</p>
<p> 就是将被依赖对象转化成 BeanDefinition 对象，保存到 BeanDefinitionRegistry 对象中，最后通过<br>ConstructorArgumentValues（构造方法）和MutablePropertyValues（set 方法）来注入依赖。<br>注意，保存被依赖对象元数据、依赖关系的对象是 BeanDefinitionRegistry ，而最后返回的是BeanFactory对象。</p>
</li>
<li><p>外部配置文件方式</p>
<p> 主要通过 BeanDefinitionReader 的实现类解析外部配置文件，然后实现。</p>
</li>
<li><p>注解方式</p>
<p> 现在最常用的方式，通过@Autowire 作对象绑定，<context:component-scan> 和 @Component 作为构建依赖。</context:component-scan></p>
</li>
</ol>
<p>三种方式其实最后都是通过编码方式来完成对象的构建管理和依赖绑定的，只是使用方式的简易不同而已。我们从最常见的 XML 外部配置文件方式说起。</p>
<p><code>&lt;bean&gt;&lt;/bean&gt;</code> 节点的重要属性</p>
<ul>
<li><code>&lt;autowire&gt;</code>：自动绑定对象的方式，默认为 no，有 byName、byType、constructor等其他方式选择。</li>
</ul>
<p>由于默认设置了 no，所以一般需要我们在 XML 中去写 <code>&lt;property&gt;</code> 或者 <code>&lt;constructor-arg&gt;</code> 来手动绑定 bean(setter 方法和构造方法)。</p>
<ul>
<li><p><code>&lt;value&gt;</code>：为对象注入简单的数据类型</p>
</li>
<li><p><code>&lt;lazy—init&gt;</code>：前面说过 ApplicationContext 是默认在容器启动后实例化所有对象，如果想改变某个 bean 实例化时机，则可以设置<lazy-init="true">来延迟实例化。</lazy-init="true"></p>
</li>
<li><p><code>&lt;parent&gt;</code>：可以实现 bean 之间的继承关系。</p>
</li>
<li><p><code>&lt;scope&gt;</code>：定义bean 对象的生命周期，常见的有 singleton、prototype、request、session、global session 等，由于其使用较灵活，这里不细讲。</p>
</li>
<li><p><code>FactoryBean</code>：当某些 bean 的实例化过程过于繁琐，用 XML 配置过于复杂到时候，可以通过实现该接口来完成bean 的实例化逻辑代码。最后再配合 XML 完成 bean 的实例化。</p>
</li>
</ul>
<h3 id="Spring-独特的功能特性：方法注入和方法替换"><a href="#Spring-独特的功能特性：方法注入和方法替换" class="headerlink" title="Spring 独特的功能特性：方法注入和方法替换"></a>Spring 独特的功能特性：方法注入和方法替换</h3><h4 id="方法注入"><a href="#方法注入" class="headerlink" title="方法注入"></a>方法注入</h4><p>目的是为了通过相应方法为主题对象注入依赖对象，其中每个依赖对象的实例都是不一样的。<br>实现方法：</p>
<ol>
<li>声明符合规格的方法</li>
<li>在 XML 中配置 <code>&lt;lookup-method&gt;</code></li>
</ol>
<p>要想达到<code>每次调用都让容器返回新的对象实例</code>这个目的，还可以有其他方法，如：</p>
<ul>
<li>使用 BeanFactoryAware 接口（其实原理跟方法注入类似，都是通过调用 BeanFactory 的 getBean() 方法）</li>
<li>使用 ObjectFactoryCreatingFactoryBean，改类是对 BeanFactoryAware 的实现。具体需要与 XML 配置配合。其优点是隔离客户端对象对 BeanFactory 的直接引用。</li>
</ul>
<h4 id="方法替换"><a href="#方法替换" class="headerlink" title="方法替换"></a>方法替换</h4><p>目的是灵活替换或者以新的方法，实现覆盖原来的某个方法的逻辑，简单地说就是帮助我们实现简单的方法拦截功能。不过效率不高。<br>实现方法：</p>
<ol>
<li>实现 MethodReplacer 的接口，重载 reimplement 方法，编写替换逻辑代码。</li>
<li>在 XML 里面配置<code>&lt;replaced-method&gt;</code>。</li>
</ol>
<h3 id="Spring-IoC-容器的内部实现"><a href="#Spring-IoC-容器的内部实现" class="headerlink" title="Spring IoC 容器的内部实现"></a>Spring IoC 容器的内部实现</h3><p>可以分成两个阶段，如图：<br><img src="http://ognvcf5x6.bkt.clouddn.com/bbs_image/spring-1.png" alt=""></p>
<p>总结起来就是</p>
<ol>
<li><p>容器启动阶段 </p>
<p> 该阶段主要收集 bean 的信息，并且组成 BeanDefinition 对象，注册到相应的 BeanDefinitionRegistry 中。</p>
</li>
<li><p>Bean 实例化阶段。</p>
<p> 该阶段主要是根据 registry 表中的 Beandefinition 信息，实例化 bean 对象并绑定。该阶段主要由 getBean()引发。</p>
</li>
</ol>
<h4 id="BeanFactoryPostProcesstor"><a href="#BeanFactoryPostProcesstor" class="headerlink" title="BeanFactoryPostProcesstor"></a>BeanFactoryPostProcesstor</h4><p>Spring 提供了一种叫做<code>BeanFactoryPostProcesstor</code>的容器扩展机制。可以在实例化对象之前，对 BeanDefinition 的信息做修改，添加、修改 bean 的属性等。</p>
<p>几种常用的实现 BeanFactoryPostProcesstor 的接口</p>
<ul>
<li><p><strong>PropertyPlaceholderConfigurer</strong></p>
<p>  通常情况下，我们在 Xml 中会将数据库的配置抽离出来，单独放在一个 properties 文件中，就需要我们在 Xml 中使用占位符和变量（如，${jdbc.username}）来表示。</p>
</li>
<li><p><strong>PropertyOverrideConfigurer</strong></p>
<p>  该类主要替换 bean 配置里面的属性的值</p>
</li>
<li><p><strong>CustomEditorConfigurer</strong></p>
<p>  BeanDefinition 的信息通常由 Xml 记录，对象的类型也是如此，不过一般 Xml 记录的对象的类型都是字符串，因此该类主要用来实现配置文件里面的 bean 字符串类型和实际对象的类型转换。如果想深入了解，可以看 JavaBean 的 PropertyEditor 和 Spring 自己提供的 PropertyEditor。</p>
</li>
</ul>
<h4 id="Bean-的生命周期"><a href="#Bean-的生命周期" class="headerlink" title="Bean 的生命周期"></a>Bean 的生命周期</h4><p>前面讲过依赖注解的3种方式，其中 Xml 的方式曾是最常用的，不过现在几乎都是使用注解的方式来进行依赖注入。下面我们一步一步将通过 Xml 的依赖注入转化成通过注解来完成。</p>
<h4 id="从-autowire-到-Autowired"><a href="#从-autowire-到-Autowired" class="headerlink" title="从 autowire 到@Autowired"></a>从 autowire 到@Autowired</h4><p>在使用 Xml 配置文件描述依赖关系时，为了减少配置，这里使用自动绑定功能。如下所示：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">default-autowire</span>=<span class="string">"byType"</span>&gt;</span> <span class="comment">&lt;!--通过 beans 上的 default-autowire --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"a"</span> <span class="attr">class</span>=<span class="string">"..A"</span> <span class="attr">autowire</span>=<span class="string">"byType"</span>/&gt;</span>  <span class="comment">&lt;!--或者通过 bean 上的 autowire--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"b"</span> <span class="attr">class</span>=<span class="string">"..B"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"c"</span> <span class="attr">class</span>=<span class="string">"..C"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></div></pre></td></tr></table></figure>
<p>以上配置也可以转化成使用 @Autowired 来注解依赖对象，在使用 @Autowired 之后，代码以及配置文件变成如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</div><div class="line">	<span class="meta">@Autowired</span></div><div class="line">	<span class="keyword">private</span> B b;</div><div class="line">	<span class="meta">@Autowired</span></div><div class="line">	<span class="keyword">private</span> C c;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"a"</span> <span class="attr">class</span>=<span class="string">"..A"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"b"</span> <span class="attr">class</span>=<span class="string">"..B"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"c"</span> <span class="attr">class</span>=<span class="string">"..C"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></div></pre></td></tr></table></figure>
<p>AutowiredAnnotationBeanPostProcessor 这个类的作用就是将 Xml 配置中的 bean 信息，与 @Autowired 注解的属性（或者方法）绑定一起。其作用类似于伪代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Object[] beans = ...; </div><div class="line"><span class="keyword">for</span>(Object bean:beans) &#123;</div><div class="line"><span class="keyword">if</span>(autowiredExistsOnField(bean)) &#123;</div><div class="line">	Field f = getQulifiedField(bean)); </div><div class="line">	setAccessiableIfNecessary(f);</div><div class="line">	f.set(getBeanByTypeFromContainer());</div><div class="line">&#125; </div><div class="line"><span class="keyword">if</span>(autowiredExistsOnConstructor(bean)) &#123;</div><div class="line">	...</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span>(autowiredExistsOnMethod(bean)) &#123;</div><div class="line"> 	...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在这里，我们可以慢慢梳理 Spring IoC 容器使用配置文件的发展。</p>
<ol>
<li>一开始使用 Xml 配置依赖注入需要 property、ref 或者 Constructor 等属性。</li>
<li>出现 autowire自动绑定后不需要 property、ref 或者 Constructor 等属性。</li>
<li>Spring2.5 出现 @Autowired 注解，直接省略 autowire 属性。</li>
</ol>
<p>在使用过程中，配置文件的内容已经在慢慢精简，越来越趋向于用注解方式。</p>
<h4 id="Qualifier-的作用"><a href="#Qualifier-的作用" class="headerlink" title="@Qualifier 的作用"></a>@Qualifier 的作用</h4><p>前面讲到的</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/25/README/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/25/README/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-25T10:07:01+08:00">
                2017-07-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="assets/logo3.png" alt=""></p>
<h1 id="Size-Classes"><a href="#Size-Classes" class="headerlink" title="Size Classes"></a>Size Classes</h1><h2 id="文档修订控制"><a href="#文档修订控制" class="headerlink" title="文档修订控制"></a>文档修订控制</h2><table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">修改时间</th>
<th style="text-align:center">修改人</th>
<th style="text-align:center">版本</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2016.6.21</td>
<td style="text-align:center">杨楚璇</td>
<td style="text-align:center">1.0</td>
</tr>
</tbody>
</table>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p><a href="#引言"><strong>1 引言</strong></a></p>
<ul>
<li><a href="#培训目的">1.1 培训目的</a></li>
<li><a href="#12-参考资料">1.2 参考资料</a></li>
<li><a href="#13-术语和缩写词">1.3 术语和缩写词</a></li>
</ul>
<p><a href="#2-简介"><strong>2 简介</strong></a></p>
<ul>
<li><a href="#21-与自动布局的区别">2.1 与自动布局的区别</a></li>
<li><a href="#22-在设备上的使用">2.2 在设备上的使用</a></li>
<li><a href="#23-在asset上的使用">2.3 在Asset上的使用</a></li>
<li><a href="#24-在约束上的使用">2.4 在约束上的使用</a></li>
</ul>
<p><a href="#3-适用场景"><strong>3 适用场景</strong></a></p>
<p><a href="#4-代码使用"><strong>4 代码使用</strong></a></p>
<h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1 引言"></a><a id="引言"></a>1 引言</h2><h3 id="1-1-培训目的"><a href="#1-1-培训目的" class="headerlink" title="1.1 培训目的"></a><a id="培训目的"></a>1.1 培训目的</h3><p>让组内成员对Size Classes有个大概的了解。</p>
<h3 id="1-2-参考资料"><a href="#1-2-参考资料" class="headerlink" title="1.2 参考资料"></a><a id="12-参考资料"></a>1.2 参考资料</h3><p><a href="https://onevcat.com/2014/07/ios-ui-unique/" target="_blank" rel="external">WWDC 2014 Session笔记 - iOS界面开发的大一统</a></p>
<p><a href="http://blog.sunnyxx.com/2014/09/09/ios8-size-classes/" target="_blank" rel="external">iOS8 Size Classes初探</a></p>
<h3 id="1-3-术语和缩写词"><a href="#1-3-术语和缩写词" class="headerlink" title="1.3 术语和缩写词"></a><a id="13-术语和缩写词"></a>1.3 术语和缩写词</h3><p>Any：A</p>
<p>Regular：R</p>
<p>Compact：C</p>
<p>##<a id="2-简介"></a>2 简介</p>
<p><code>Size Classes</code> 为 iOS 8 的新特性，其特点就是将各个设备屏幕及其旋转后状态都抽象成屏幕Size的变化，而不再关心具体的尺寸。具体就是将屏幕的宽度抽象成Compact（紧凑型）、Any（任意）、Regular（常规）三种情况，高度也是如此，因此就有9种情况。简单的说，就是在一个Storyboard或者xib上，能够管理9种类型的视图。</p>
<h3 id="2-1-与自动布局的区别"><a href="#2-1-与自动布局的区别" class="headerlink" title="2.1 与自动布局的区别"></a><a id="21-与自动布局的区别"></a>2.1 与自动布局的区别</h3><ol>
<li>Size Classes只是将视图分类，AutoLayout才是对视图进行布局</li>
<li>Size Classes依赖于AutoLayout。关闭AutoLayout，则Size Classes无法开启。关闭Size Classes，对AutoLayout无影响。</li>
</ol>
<h3 id="2-2-在设备上的使用"><a href="#2-2-在设备上的使用" class="headerlink" title="2.2 在设备上的使用"></a><a id="22-在设备上的使用"></a>2.2 在设备上的使用</h3><p><img src="assets/sizeClass.png" alt=""></p>
<p><img src="assets/ipad.png" alt=""></p>
<p>如果没有特殊指定Size的类型，则默认是在 <code>wAny hAny</code> 模式下设置。其它8种类型继承于这个类型。</p>
<ul>
<li><p>在storyboard中添加一个imageView，将imageView的图片设置如下。对图片设置好约束后，可以在Xcode右侧的属性选项中看到 <code>installed</code> ，默认表示为 <code>AA</code>。我们可以看到下面Preview内容在所有设备类型中都是显示这张图片。</p>
<p>  <img src="assets/init.png" alt=""></p>
</li>
<li><p>现在我们来对imageView进行操作，点击 <code>installed</code> 左边的 <code>＋</code>，添加 <code>C R</code> 类型的视图 (<code>C R</code>)。</p>
<p>  <img src="assets/addcr.png" alt=""></p>
</li>
<li><p>取消 <code>C R</code> 的打勾项☑️，此时我们可以从Preview中看到Size类型为<code>C R</code> 的都不显示imageView。</p>
<p>  <img src="assets/cancalcr.png" alt=""></p>
</li>
<li><p>只有选择installed之后，图片才会被绘制在View上，如果没有选择installed，则不会绘制在View上，左图为选择installed，右图没有选择installed：</p>
<p>  <img src="assets/before.png" alt=""> <img src="assets/after.png" alt=""></p>
</li>
</ul>
<blockquote>
<p>简单的三个步骤，我们就能实现 imageView 在 ipad 竖屏上显示，在iphone竖屏不显示。</p>
<p>同理，如果你想让 imageView 只在 iphone 竖屏上，则将默认的installed（第一个）取消打勾，然后对 <code>C R</code>的 installed 打勾。</p>
</blockquote>
<p>再举个简单的例子：</p>
<ul>
<li><p>现在我们想让 imageView 只在 iphone 6Plus（5.5寸）横屏上不显示图片。我们可以如下操作：</p>
<p>  <img src="assets/tap.png" alt=""></p>
</li>
<li><p>然后在右边中添加 <code>RC</code> 的installed，取消打勾，此时效果如下，只有 6Plus 无法显现imageView。</p>
<p>  <img src="assets/rcfinish.png" alt=""></p>
</li>
</ul>
<h3 id="2-3-在Asset上的使用"><a href="#2-3-在Asset上的使用" class="headerlink" title="2.3 在Asset上的使用"></a><a id="23-在asset上的使用"></a>2.3 在Asset上的使用</h3><p>不仅视图可以用Size Classes来进行抽象分类，Image Asset也能支持Size Classes，用法类似。如下图：</p>
<p><img src="assets/assetsinit.png" alt=""></p>
<p>通过选择Width和Height的类型可以设置不同类型对应不同的图片 <code>(*表示A、+表示R、－表示C)</code>，例如：</p>
<p><img src="assets/addassets.png" alt=""></p>
<p>不过设置assets的时候不能通过Preview来实时观察图片的变化，所以只能运行模拟器，可以发现选择的时候会默认改变图片：</p>
<p><img src="assets/assetschange.gif" alt=""></p>
<p>我们可以打开image的content.json，查看里面的具体内容：</p>
<p><img src="assets/show.png" alt=""></p>
<p>可以发现，image的content.json数据中，1x的图片多出了”width-class”和”height-class”两个键值。</p>
<p><img src="assets/json.png" alt=""></p>
<blockquote>
<p>可以看到，旋转时候如果想要改变图片，我们再也不用</p>
</blockquote>
<h3 id="2-4-在约束上的使用"><a href="#2-4-在约束上的使用" class="headerlink" title="2.4 在约束上的使用"></a><a id="24-在约束上的使用"></a>2.4 在约束上的使用</h3><p>前面提到，Size Classes是依赖于AutoLayout，所以设置Constraint的时候也可以设置Size Classes的类型，例子如下：</p>
<ul>
<li><p>回到storyboard，点击其中的一条约束，如下图：</p>
<p>  <img src="assets/constraint.png" alt=""></p>
</li>
<li><p>添加 <code>R C</code> 的约束：</p>
<p>  <img src="assets/constraintchange.png" alt=""></p>
</li>
<li><p>在Preview中可以看到，6Plus横屏下image的高度变成200。</p>
</li>
</ul>
<h2 id="3-适用场景"><a href="#3-适用场景" class="headerlink" title="3 适用场景"></a><a id="3-适用场景"></a>3 适用场景</h2><ul>
<li>同个工程，同一个视图，不同设备上（iPhone，iPad）显示或隐藏；</li>
<li>多种屏幕类型中使用同一个imageView，但图片不同；</li>
<li>多种屏幕类型中使用同一个视图，但视图的约束不一致。</li>
</ul>
<h2 id="4-代码使用"><a href="#4-代码使用" class="headerlink" title="4 代码使用"></a><a id="4-代码使用"></a>4 代码使用</h2><p>为了 Size Classes，Apple 在 iOS 8 中引入了一个新的类，UITraitCollection。这个类封装了像水平和竖直方向的 Size Class 等信息。</p>
<p>iOS 8 的 UIKit 中大多数 UI 的基础类 (包括 UIScreen，UIWindow，UIViewController 和 UIView) 都实现了 UITraitEnvironment 这个接口，通过其中的 traitCollection 这个属性，我们可以拿到对应的 UITraitCollection 对象，从而得知当前的 Size Class，并进一步确定界面的布局。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(<span class="keyword">self</span>.view.traitCollection.horizontalSizeClass == <span class="built_in">UIUserInterfaceSizeClassCompact</span>)&#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"该视图的水平方向为 compact 类型"</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.view.traitCollection.verticalSizeClass == <span class="built_in">UIUserInterfaceSizeClassRegular</span>) &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"该视图的垂直方向为 regular 类型"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/25/关于Vue-Router/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/25/关于Vue-Router/" itemprop="url">
                  关于 Vue-Router
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-25T00:00:00+08:00">
                2017-07-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="关于-Vue-Router"><a href="#关于-Vue-Router" class="headerlink" title="关于 Vue-Router"></a>关于 Vue-Router</h2><h3 id="vue-router-简介"><a href="#vue-router-简介" class="headerlink" title="vue-router 简介"></a>vue-router 简介</h3><p>通过改变 URL，在不重新请求页面的情况下，更新页面视图。更新视图但不重新请求页面。<br>先来了解下 vue-router 是如何实现更新页面视图而不请求页面的。</p>
<h3 id="vue-router-中的-mode"><a href="#vue-router-中的-mode" class="headerlink" title="vue-router 中的 mode"></a>vue-router 中的 mode</h3><p>mode 有hash、history、abstract 三种模式。默认为 hash 。</p>
<ul>
<li><p>hash 模式：<br>  先来理解 url 中的 # 号的含义。</p>
<ol>
<li>当浏览器读取 url 为 <a href="http://example.com/index.html#user">http://example.com/index.html#user</a> 的时候，会自动将页面滚动到网页标识符为 user 的位置（锚点）。一般可以用 <a name="user"></a> ，或者使用id属性，比如 <div id="user" ></div> 来设置锚点。</li>
<li>#只是用来指导浏览器动作，跟 http 请求无关，因此改变 # 后面的内容，是不会发生重新请求资源，加载页面的。</li>
<li>#符号本身以及它后面的字符称之为hash，用 window.location.hash 属性来获取。</li>
<li>用window.addEventListener(“hashchange”, funcRef, false)、window.onhashchange = func 等方法来监听 hash 发生改变，每次改变会在访问历史中增加一个记录，利用这个特点就能实现更新视图但不重新请求页面。<blockquote>
<p>通过例子理解 #hash 的使用：<br><a href="https://router.vuejs.org/zh-cn/api/options.html#base">https://router.vuejs.org/zh-cn/api/options.html#base</a></p>
</blockquote>
</li>
</ol>
</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/07/25/关于Vue-Router/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/21/Weex项目构建流程/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/21/Weex项目构建流程/" itemprop="url">
                  Weex项目构建流程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-21T11:10:50+08:00">
                2017-03-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="Weex-Toolkit"><a href="#Weex-Toolkit" class="headerlink" title="Weex-Toolkit"></a>Weex-Toolkit</h3><p><a href="http://weex.apache.org/cn/guide/set-up-env.html">Weex-Toolkit</a>  主要用于快速构建 weex 的项目并且开发和调试。</p>
<ul>
<li><p>先更替 npm 的镜像，推荐淘宝镜像，更替方法如下：</p>
  <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>验证是否更替成功：</p>
  <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config get registry</div></pre></td></tr></table></figure>
</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/03/21/Weex项目构建流程/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/21/发布自己的模块到 npm/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/21/发布自己的模块到 npm/" itemprop="url">
                  发布模块到 npm 仓库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-21T09:14:11+08:00">
                2017-03-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="编写模块目录"><a href="#编写模块目录" class="headerlink" title="编写模块目录"></a>编写模块目录</h3><ul>
<li><p>编写自己模块的 package.json</p>
  <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure>
</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/03/21/发布自己的模块到 npm/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/JS中的原型和原型链/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/JS中的原型和原型链/" itemprop="url">
                  JS中的原型和原型链
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T01:21:01+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h4 id="关于-JavaScript"><a href="#关于-JavaScript" class="headerlink" title="关于 JavaScript"></a>关于 JavaScript</h4><p>完整的 JavaScript 主要是由<code>ECMAScript</code>、<code>文档对象模型</code>、<code>浏览器对象模型</code>三个部分组成。</p>
<ul>
<li>ECMAScript其实就是 js 的标准规范，或者说 js 是 ECMAScript 的扩展。<ul>
<li>ECMA全称是<code>欧洲计算机制造商协会</code>，是一个国际标准化组织，主要制定了浏览器脚本语言      的标准（针对js），并将其成命名为 ECMAScript。</li>
</ul>
</li>
<li>文档对象模型（DOM）：对 HTML 页面元素的属性、样式、事件等操作。例如：<ul>
<li>document.getElementByXXX()</li>
<li>document.getElementByXXX(id).style.property</li>
<li>document.getElementByXXX(id).attribute</li>
<li>当提交表单时运行脚本：onsubmit</li>
</ul>
</li>
<li>浏览器对象对象模型（BOM）：针对浏览器相关的属性和方法：<ul>
<li>打开新窗口 window.open()</li>
<li>所使用的 web 协议（http:// 或 <a href="https://）location.protocol">https://）location.protocol</a></li>
<li>浏览器平台 navigator.platform</li>
</ul>
</li>
</ul>
<h4 id="对象和原型"><a href="#对象和原型" class="headerlink" title="对象和原型"></a>对象和原型</h4><p>JavaScript 是一门面向对象的语言。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/15/JS中的原型和原型链/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/12/Hexo搭建自己的个人博客/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/12/Hexo搭建自己的个人博客/" itemprop="url">
                  Hexo + Github Page 搭建自己的个人博客
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-12T21:43:16+08:00">
                2017-02-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>在使用 Hexo 搭建博客前，需要安装相关环境。</p>
<p>由于 Hexo 依赖 node 环境，所以我们需要先安装 node。安装 node 有很多种方式，最简单的就是到官网上下载 node 的安装包直接安装。不过由于个人习惯，我比较喜欢另一种方式—-通过  HomeBrew 安装。</p>
<p>需要安装的环境有：HomeBrew、Node、Hexo 以及运行博客的其他 npm 包。</p>
<p>如果系统已经安装 Node 环境，可以直接跳过以下步骤，直接安装 Hexo 环境。判断是否安装 Node 环境可以使用如下命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node -v</div></pre></td></tr></table></figure>
<h4 id="安装-HomeBrew"><a href="#安装-HomeBrew" class="headerlink" title="安装 HomeBrew"></a>安装 HomeBrew
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/12/Hexo搭建自己的个人博客/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/09/关于SizeClasses/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yans67">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/001.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yans67">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yans67" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/关于SizeClasses/" itemprop="url">
                  关于SizeClasses
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T22:09:09+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h4 id="SizeClasses简介"><a href="#SizeClasses简介" class="headerlink" title="SizeClasses简介"></a><a id="2-SizeClasses简介"></a>SizeClasses简介</h4><p><code>Size Classes</code> 为 iOS 8 的新特性，其特点就是将各个设备屏幕及其旋转后状态都抽象成屏幕 Size 的变化，而不再关心具体的尺寸。具体就是将屏幕的宽度抽象成Compact（紧凑型）、Any（任意）、Regular（常规）三种情况，高度也是如此，因此就有9种情况。简单的说，就是在一个 Storyboard 或者 xib 上，能够管理9种类型的视图。</p>
<h4 id="SizeClasses与AutoLayout"><a href="#SizeClasses与AutoLayout" class="headerlink" title="SizeClasses与AutoLayout"></a><a id="3-SizeClasses与AutoLayout"></a>SizeClasses与AutoLayout</h4><ol>
<li>Size Classes 只是将视图分类，AutoLayout 才是对视图进行布局</li>
<li>Size Classes 依赖于 AutoLayout。关闭 AutoLayout，则 Size Classes 无法开启。关闭Size Classes，对 AutoLayout 无影响。</li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/09/关于SizeClasses/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/001.png"
               alt="Yans67" />
          <p class="site-author-name" itemprop="name">Yans67</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yans67" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1hyg" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2018</span>

  <span class="author" itemprop="copyrightHolder">&nbsp&nbsp&nbspPowered By&nbsp-&nbspYans67</span>
</div>



        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


</body>
</html>
